import{c as mt,r as T,q as rr,j as p,f as sr,z as Pe,g as Ue,P as be,h as ve,C as ir,d as Be,E as ar,F as nr,G as or,H as lr,I as ur,J as cr,a0 as dr,b as fr,R as m}from"./index-28yYTQYt.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],$r=mt("chevron-down",yr);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],zr=mt("x",gr);var pe="Dialog",[xt,Kr]=sr(pe),[vr,X]=xt(pe),Dt=e=>{const{__scopeDialog:r,children:t,open:i,defaultOpen:a,onOpenChange:n,modal:u=!0}=e,c=T.useRef(null),x=T.useRef(null),[V,_]=rr({prop:i,defaultProp:a??!1,onChange:n,caller:pe});return p.jsx(vr,{scope:r,triggerRef:c,contentRef:x,contentId:Pe(),titleId:Pe(),descriptionId:Pe(),open:V,onOpenChange:_,onOpenToggle:T.useCallback(()=>_(F=>!F),[_]),modal:u,children:t})};Dt.displayName=pe;var Ft="DialogTrigger",hr=T.forwardRef((e,r)=>{const{__scopeDialog:t,...i}=e,a=X(Ft,t),n=Be(r,a.triggerRef);return p.jsx(be.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":qe(a.open),...i,ref:n,onClick:ve(e.onClick,a.onOpenToggle)})});hr.displayName=Ft;var je="DialogPortal",[_r,Vt]=xt(je,{forceMount:void 0}),At=e=>{const{__scopeDialog:r,forceMount:t,children:i,container:a}=e,n=X(je,r);return p.jsx(_r,{scope:r,forceMount:t,children:T.Children.map(i,u=>p.jsx(Ue,{present:t||n.open,children:p.jsx(ir,{asChild:!0,container:a,children:u})}))})};At.displayName=je;var Ve="DialogOverlay",Et=T.forwardRef((e,r)=>{const t=Vt(Ve,e.__scopeDialog),{forceMount:i=t.forceMount,...a}=e,n=X(Ve,e.__scopeDialog);return n.modal?p.jsx(Ue,{present:i||n.open,children:p.jsx(mr,{...a,ref:r})}):null});Et.displayName=Ve;var br=or("DialogOverlay.RemoveScroll"),mr=T.forwardRef((e,r)=>{const{__scopeDialog:t,...i}=e,a=X(Ve,t);return p.jsx(nr,{as:br,allowPinchZoom:!0,shards:[a.contentRef],children:p.jsx(be.div,{"data-state":qe(a.open),...i,ref:r,style:{pointerEvents:"auto",...i.style}})})}),le="DialogContent",wt=T.forwardRef((e,r)=>{const t=Vt(le,e.__scopeDialog),{forceMount:i=t.forceMount,...a}=e,n=X(le,e.__scopeDialog);return p.jsx(Ue,{present:i||n.open,children:n.modal?p.jsx(xr,{...a,ref:r}):p.jsx(Dr,{...a,ref:r})})});wt.displayName=le;var xr=T.forwardRef((e,r)=>{const t=X(le,e.__scopeDialog),i=T.useRef(null),a=Be(r,t.contentRef,i);return T.useEffect(()=>{const n=i.current;if(n)return ar(n)},[]),p.jsx(Ct,{...e,ref:a,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ve(e.onCloseAutoFocus,n=>{var u;n.preventDefault(),(u=t.triggerRef.current)==null||u.focus()}),onPointerDownOutside:ve(e.onPointerDownOutside,n=>{const u=n.detail.originalEvent,c=u.button===0&&u.ctrlKey===!0;(u.button===2||c)&&n.preventDefault()}),onFocusOutside:ve(e.onFocusOutside,n=>n.preventDefault())})}),Dr=T.forwardRef((e,r)=>{const t=X(le,e.__scopeDialog),i=T.useRef(!1),a=T.useRef(!1);return p.jsx(Ct,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:n=>{var u,c;(u=e.onCloseAutoFocus)==null||u.call(e,n),n.defaultPrevented||(i.current||(c=t.triggerRef.current)==null||c.focus(),n.preventDefault()),i.current=!1,a.current=!1},onInteractOutside:n=>{var x,V;(x=e.onInteractOutside)==null||x.call(e,n),n.defaultPrevented||(i.current=!0,n.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const u=n.target;((V=t.triggerRef.current)==null?void 0:V.contains(u))&&n.preventDefault(),n.detail.originalEvent.type==="focusin"&&a.current&&n.preventDefault()}})}),Ct=T.forwardRef((e,r)=>{const{__scopeDialog:t,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:n,...u}=e,c=X(le,t),x=T.useRef(null),V=Be(r,x);return lr(),p.jsxs(p.Fragment,{children:[p.jsx(ur,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:a,onUnmountAutoFocus:n,children:p.jsx(cr,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":qe(c.open),...u,ref:V,onDismiss:()=>c.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(Fr,{titleId:c.titleId}),p.jsx(Ar,{contentRef:x,descriptionId:c.descriptionId})]})]})}),We="DialogTitle",pt=T.forwardRef((e,r)=>{const{__scopeDialog:t,...i}=e,a=X(We,t);return p.jsx(be.h2,{id:a.titleId,...i,ref:r})});pt.displayName=We;var Rt="DialogDescription",St=T.forwardRef((e,r)=>{const{__scopeDialog:t,...i}=e,a=X(Rt,t);return p.jsx(be.p,{id:a.descriptionId,...i,ref:r})});St.displayName=Rt;var kt="DialogClose",Ot=T.forwardRef((e,r)=>{const{__scopeDialog:t,...i}=e,a=X(kt,t);return p.jsx(be.button,{type:"button",...i,ref:r,onClick:ve(e.onClick,()=>a.onOpenChange(!1))})});Ot.displayName=kt;function qe(e){return e?"open":"closed"}var Tt="DialogTitleWarning",[Yr,Nt]=dr(Tt,{contentName:le,titleName:We,docsSlug:"dialog"}),Fr=({titleId:e})=>{const r=Nt(Tt),t=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return T.useEffect(()=>{e&&(document.getElementById(e)||console.error(t))},[t,e]),null},Vr="DialogDescriptionWarning",Ar=({contentRef:e,descriptionId:r})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Nt(Vr).contentName}}.`;return T.useEffect(()=>{var n;const a=(n=e.current)==null?void 0:n.getAttribute("aria-describedby");r&&a&&(document.getElementById(r)||console.warn(i))},[i,e,r]),null},Jr=Dt,Xr=At,Zr=Et,Qr=wt,es=pt,ts=St,rs=Ot;function ss({className:e,...r}){return p.jsx("textarea",{"data-slot":"textarea",className:fr("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...r})}var me=e=>e.type==="checkbox",oe=e=>e instanceof Date,j=e=>e==null;const Mt=e=>typeof e=="object";var N=e=>!j(e)&&!Array.isArray(e)&&Mt(e)&&!oe(e),Pt=e=>N(e)&&e.target?me(e.target)?e.target.checked:e.target.value:e,Er=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,It=(e,r)=>e.has(Er(r)),wr=e=>{const r=e.constructor&&e.constructor.prototype;return N(r)&&r.hasOwnProperty("isPrototypeOf")},He=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function P(e){let r;const t=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)r=new Date(e);else if(!(He&&(e instanceof Blob||i))&&(t||N(e)))if(r=t?[]:Object.create(Object.getPrototypeOf(e)),!t&&!wr(e))r=e;else for(const a in e)e.hasOwnProperty(a)&&(r[a]=P(e[a]));else return e;return r}var Re=e=>/^\w*$/.test(e),O=e=>e===void 0,Ge=e=>Array.isArray(e)?e.filter(Boolean):[],$e=e=>Ge(e.replace(/["|']|\]/g,"").split(/\.|\[/)),y=(e,r,t)=>{if(!r||!N(e))return t;const i=(Re(r)?[r]:$e(r)).reduce((a,n)=>j(a)?a:a[n],e);return O(i)||i===e?O(e[r])?t:e[r]:i},G=e=>typeof e=="boolean",C=(e,r,t)=>{let i=-1;const a=Re(r)?[r]:$e(r),n=a.length,u=n-1;for(;++i<n;){const c=a[i];let x=t;if(i!==u){const V=e[c];x=N(V)||Array.isArray(V)?V:isNaN(+a[i+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;e[c]=x,e=e[c]}};const Ae={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Y={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},te={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},ze=m.createContext(null);ze.displayName="HookFormContext";const Ke=()=>m.useContext(ze),is=e=>{const{children:r,...t}=e;return m.createElement(ze.Provider,{value:t},r)};var Lt=(e,r,t,i=!0)=>{const a={defaultValues:r._defaultValues};for(const n in e)Object.defineProperty(a,n,{get:()=>{const u=n;return r._proxyFormState[u]!==Y.all&&(r._proxyFormState[u]=!i||Y.all),t&&(t[u]=!0),e[u]}});return a};const Ye=typeof window<"u"?m.useLayoutEffect:m.useEffect;function Cr(e){const r=Ke(),{control:t=r.control,disabled:i,name:a,exact:n}=e||{},[u,c]=m.useState(t._formState),x=m.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Ye(()=>t._subscribe({name:a,formState:x.current,exact:n,callback:V=>{!i&&c({...t._formState,...V})}}),[a,i,n]),m.useEffect(()=>{x.current.isValid&&t._setValid(!0)},[t]),m.useMemo(()=>Lt(u,t,x.current,!1),[u,t])}var ee=e=>typeof e=="string",Ut=(e,r,t,i,a)=>ee(e)?(i&&r.watch.add(e),y(t,e,a)):Array.isArray(e)?e.map(n=>(i&&r.watch.add(n),y(t,n))):(i&&(r.watchAll=!0),t),Le=e=>j(e)||!Mt(e);function re(e,r,t=new WeakSet){if(Le(e)||Le(r))return e===r;if(oe(e)&&oe(r))return e.getTime()===r.getTime();const i=Object.keys(e),a=Object.keys(r);if(i.length!==a.length)return!1;if(t.has(e)||t.has(r))return!0;t.add(e),t.add(r);for(const n of i){const u=e[n];if(!a.includes(n))return!1;if(n!=="ref"){const c=r[n];if(oe(u)&&oe(c)||N(u)&&N(c)||Array.isArray(u)&&Array.isArray(c)?!re(u,c,t):u!==c)return!1}}return!0}function pr(e){const r=Ke(),{control:t=r.control,name:i,defaultValue:a,disabled:n,exact:u,compute:c}=e||{},x=m.useRef(a),V=m.useRef(c),_=m.useRef(void 0);V.current=c;const F=m.useMemo(()=>t._getWatch(i,x.current),[t,i]),[b,z]=m.useState(V.current?V.current(F):F);return Ye(()=>t._subscribe({name:i,formState:{values:!0},exact:u,callback:H=>{if(!n){const R=Ut(i,t._names,H.values||t._formValues,!1,x.current);if(V.current){const L=V.current(R);re(L,_.current)||(z(L),_.current=L)}else z(R)}}}),[t,n,i,u]),m.useEffect(()=>t._removeUnmounted()),b}function Rr(e){const r=Ke(),{name:t,disabled:i,control:a=r.control,shouldUnregister:n,defaultValue:u}=e,c=It(a._names.array,t),x=m.useMemo(()=>y(a._formValues,t,y(a._defaultValues,t,u)),[a,t,u]),V=pr({control:a,name:t,defaultValue:x,exact:!0}),_=Cr({control:a,name:t,exact:!0}),F=m.useRef(e),b=m.useRef(a.register(t,{...e.rules,value:V,...G(e.disabled)?{disabled:e.disabled}:{}}));F.current=e;const z=m.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!y(_.errors,t)},isDirty:{enumerable:!0,get:()=>!!y(_.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!y(_.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!y(_.validatingFields,t)},error:{enumerable:!0,get:()=>y(_.errors,t)}}),[_,t]),H=m.useCallback(h=>b.current.onChange({target:{value:Pt(h),name:t},type:Ae.CHANGE}),[t]),R=m.useCallback(()=>b.current.onBlur({target:{value:y(a._formValues,t),name:t},type:Ae.BLUR}),[t,a._formValues]),L=m.useCallback(h=>{const U=y(a._fields,t);U&&h&&(U._f.ref={focus:()=>h.focus&&h.focus(),select:()=>h.select&&h.select(),setCustomValidity:I=>h.setCustomValidity(I),reportValidity:()=>h.reportValidity()})},[a._fields,t]),ue=m.useMemo(()=>({name:t,value:V,...G(i)||_.disabled?{disabled:_.disabled||i}:{},onChange:H,onBlur:R,ref:L}),[t,i,_.disabled,H,R,L,V]);return m.useEffect(()=>{const h=a._options.shouldUnregister||n;a.register(t,{...F.current.rules,...G(F.current.disabled)?{disabled:F.current.disabled}:{}});const U=(I,S)=>{const se=y(a._fields,I);se&&se._f&&(se._f.mount=S)};if(U(t,!0),h){const I=P(y(a._options.defaultValues,t));C(a._defaultValues,t,I),O(y(a._formValues,t))&&C(a._formValues,t,I)}return!c&&a.register(t),()=>{(c?h&&!a._state.action:h)?a.unregister(t):U(t,!1)}},[t,a,c,n]),m.useEffect(()=>{a._setDisabledField({disabled:i,name:t})},[i,t,a]),m.useMemo(()=>({field:ue,formState:_,fieldState:z}),[ue,_,z])}const as=e=>e.render(Rr(e));var Sr=(e,r,t,i,a)=>r?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[i]:a||!0}}:{},he=e=>Array.isArray(e)?e:[e],lt=()=>{let e=[];return{get observers(){return e},next:a=>{for(const n of e)n.next&&n.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(n=>n!==a)}}),unsubscribe:()=>{e=[]}}},q=e=>N(e)&&!Object.keys(e).length,Je=e=>e.type==="file",J=e=>typeof e=="function",Ee=e=>{if(!He)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},Bt=e=>e.type==="select-multiple",Xe=e=>e.type==="radio",kr=e=>Xe(e)||me(e),Ie=e=>Ee(e)&&e.isConnected;function Or(e,r){const t=r.slice(0,-1).length;let i=0;for(;i<t;)e=O(e)?i++:e[r[i++]];return e}function Tr(e){for(const r in e)if(e.hasOwnProperty(r)&&!O(e[r]))return!1;return!0}function M(e,r){const t=Array.isArray(r)?r:Re(r)?[r]:$e(r),i=t.length===1?e:Or(e,t),a=t.length-1,n=t[a];return i&&delete i[n],a!==0&&(N(i)&&q(i)||Array.isArray(i)&&Tr(i))&&M(e,t.slice(0,-1)),e}var jt=e=>{for(const r in e)if(J(e[r]))return!0;return!1};function we(e,r={}){const t=Array.isArray(e);if(N(e)||t)for(const i in e)Array.isArray(e[i])||N(e[i])&&!jt(e[i])?(r[i]=Array.isArray(e[i])?[]:{},we(e[i],r[i])):j(e[i])||(r[i]=!0);return r}function Wt(e,r,t){const i=Array.isArray(e);if(N(e)||i)for(const a in e)Array.isArray(e[a])||N(e[a])&&!jt(e[a])?O(r)||Le(t[a])?t[a]=Array.isArray(e[a])?we(e[a],[]):{...we(e[a])}:Wt(e[a],j(r)?{}:r[a],t[a]):t[a]=!re(e[a],r[a]);return t}var ye=(e,r)=>Wt(e,r,we(r));const ut={value:!1,isValid:!1},ct={value:!0,isValid:!0};var qt=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!O(e[0].attributes.value)?O(e[0].value)||e[0].value===""?ct:{value:e[0].value,isValid:!0}:ct:ut}return ut},Ht=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:i})=>O(e)?e:r?e===""?NaN:e&&+e:t&&ee(e)?new Date(e):i?i(e):e;const dt={isValid:!1,value:null};var Gt=e=>Array.isArray(e)?e.reduce((r,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:r,dt):dt;function ft(e){const r=e.ref;return Je(r)?r.files:Xe(r)?Gt(e.refs).value:Bt(r)?[...r.selectedOptions].map(({value:t})=>t):me(r)?qt(e.refs).value:Ht(O(r.value)?e.ref.value:r.value,e)}var Nr=(e,r,t,i)=>{const a={};for(const n of e){const u=y(r,n);u&&C(a,n,u._f)}return{criteriaMode:t,names:[...e],fields:a,shouldUseNativeValidation:i}},Ce=e=>e instanceof RegExp,ge=e=>O(e)?e:Ce(e)?e.source:N(e)?Ce(e.value)?e.value.source:e.value:e,yt=e=>({isOnSubmit:!e||e===Y.onSubmit,isOnBlur:e===Y.onBlur,isOnChange:e===Y.onChange,isOnAll:e===Y.all,isOnTouch:e===Y.onTouched});const gt="AsyncFunction";var Mr=e=>!!e&&!!e.validate&&!!(J(e.validate)&&e.validate.constructor.name===gt||N(e.validate)&&Object.values(e.validate).find(r=>r.constructor.name===gt)),Pr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),vt=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const _e=(e,r,t,i)=>{for(const a of t||Object.keys(e)){const n=y(e,a);if(n){const{_f:u,...c}=n;if(u){if(u.refs&&u.refs[0]&&r(u.refs[0],a)&&!i)return!0;if(u.ref&&r(u.ref,u.name)&&!i)return!0;if(_e(c,r))break}else if(N(c)&&_e(c,r))break}}};function ht(e,r,t){const i=y(e,t);if(i||Re(t))return{error:i,name:t};const a=t.split(".");for(;a.length;){const n=a.join("."),u=y(r,n),c=y(e,n);if(u&&!Array.isArray(u)&&t!==n)return{name:t};if(c&&c.type)return{name:n,error:c};if(c&&c.root&&c.root.type)return{name:`${n}.root`,error:c.root};a.pop()}return{name:t}}var Ir=(e,r,t,i)=>{t(e);const{name:a,...n}=e;return q(n)||Object.keys(n).length>=Object.keys(r).length||Object.keys(n).find(u=>r[u]===(!i||Y.all))},Lr=(e,r,t)=>!e||!r||e===r||he(e).some(i=>i&&(t?i===r:i.startsWith(r)||r.startsWith(i))),Ur=(e,r,t,i,a)=>a.isOnAll?!1:!t&&a.isOnTouch?!(r||e):(t?i.isOnBlur:a.isOnBlur)?!e:(t?i.isOnChange:a.isOnChange)?e:!0,Br=(e,r)=>!Ge(y(e,r)).length&&M(e,r),jr=(e,r,t)=>{const i=he(y(e,t));return C(i,"root",r[t]),C(e,t,i),e},Fe=e=>ee(e);function _t(e,r,t="validate"){if(Fe(e)||Array.isArray(e)&&e.every(Fe)||G(e)&&!e)return{type:t,message:Fe(e)?e:"",ref:r}}var de=e=>N(e)&&!Ce(e)?e:{value:e,message:""},bt=async(e,r,t,i,a,n)=>{const{ref:u,refs:c,required:x,maxLength:V,minLength:_,min:F,max:b,pattern:z,validate:H,name:R,valueAsNumber:L,mount:ue}=e._f,h=y(t,R);if(!ue||r.has(R))return{};const U=c?c[0]:u,I=D=>{a&&U.reportValidity&&(U.setCustomValidity(G(D)?"":D||""),U.reportValidity())},S={},se=Xe(u),ie=me(u),Se=se||ie,K=(L||Je(u))&&O(u.value)&&O(h)||Ee(u)&&u.value===""||h===""||Array.isArray(h)&&!h.length,ne=Sr.bind(null,R,i,S),Z=(D,E,k,B=te.maxLength,W=te.minLength)=>{const Q=D?E:k;S[R]={type:D?B:W,message:Q,ref:u,...ne(D?B:W,Q)}};if(n?!Array.isArray(h)||!h.length:x&&(!Se&&(K||j(h))||G(h)&&!h||ie&&!qt(c).isValid||se&&!Gt(c).isValid)){const{value:D,message:E}=Fe(x)?{value:!!x,message:x}:de(x);if(D&&(S[R]={type:te.required,message:E,ref:U,...ne(te.required,E)},!i))return I(E),S}if(!K&&(!j(F)||!j(b))){let D,E;const k=de(b),B=de(F);if(!j(h)&&!isNaN(h)){const W=u.valueAsNumber||h&&+h;j(k.value)||(D=W>k.value),j(B.value)||(E=W<B.value)}else{const W=u.valueAsDate||new Date(h),Q=xe=>new Date(new Date().toDateString()+" "+xe),fe=u.type=="time",ce=u.type=="week";ee(k.value)&&h&&(D=fe?Q(h)>Q(k.value):ce?h>k.value:W>new Date(k.value)),ee(B.value)&&h&&(E=fe?Q(h)<Q(B.value):ce?h<B.value:W<new Date(B.value))}if((D||E)&&(Z(!!D,k.message,B.message,te.max,te.min),!i))return I(S[R].message),S}if((V||_)&&!K&&(ee(h)||n&&Array.isArray(h))){const D=de(V),E=de(_),k=!j(D.value)&&h.length>+D.value,B=!j(E.value)&&h.length<+E.value;if((k||B)&&(Z(k,D.message,E.message),!i))return I(S[R].message),S}if(z&&!K&&ee(h)){const{value:D,message:E}=de(z);if(Ce(D)&&!h.match(D)&&(S[R]={type:te.pattern,message:E,ref:u,...ne(te.pattern,E)},!i))return I(E),S}if(H){if(J(H)){const D=await H(h,t),E=_t(D,U);if(E&&(S[R]={...E,...ne(te.validate,E.message)},!i))return I(E.message),S}else if(N(H)){let D={};for(const E in H){if(!q(D)&&!i)break;const k=_t(await H[E](h,t),U,E);k&&(D={...k,...ne(E,k.message)},I(k.message),i&&(S[R]=D))}if(!q(D)&&(S[R]={ref:U,...D},!i))return S}}return I(!0),S};const Wr={mode:Y.onSubmit,reValidateMode:Y.onChange,shouldFocusError:!0};function qr(e={}){let r={...Wr,...e},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:J(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},i={},a=N(r.defaultValues)||N(r.values)?P(r.defaultValues||r.values)||{}:{},n=r.shouldUnregister?{}:P(a),u={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},x,V=0;const _={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let F={..._};const b={array:lt(),state:lt()},z=r.criteriaMode===Y.all,H=s=>o=>{clearTimeout(V),V=setTimeout(s,o)},R=async s=>{if(!r.disabled&&(_.isValid||F.isValid||s)){const o=r.resolver?q((await ie()).errors):await K(i,!0);o!==t.isValid&&b.state.next({isValid:o})}},L=(s,o)=>{!r.disabled&&(_.isValidating||_.validatingFields||F.isValidating||F.validatingFields)&&((s||Array.from(c.mount)).forEach(l=>{l&&(o?C(t.validatingFields,l,o):M(t.validatingFields,l))}),b.state.next({validatingFields:t.validatingFields,isValidating:!q(t.validatingFields)}))},ue=(s,o=[],l,g,f=!0,d=!0)=>{if(g&&l&&!r.disabled){if(u.action=!0,d&&Array.isArray(y(i,s))){const v=l(y(i,s),g.argA,g.argB);f&&C(i,s,v)}if(d&&Array.isArray(y(t.errors,s))){const v=l(y(t.errors,s),g.argA,g.argB);f&&C(t.errors,s,v),Br(t.errors,s)}if((_.touchedFields||F.touchedFields)&&d&&Array.isArray(y(t.touchedFields,s))){const v=l(y(t.touchedFields,s),g.argA,g.argB);f&&C(t.touchedFields,s,v)}(_.dirtyFields||F.dirtyFields)&&(t.dirtyFields=ye(a,n)),b.state.next({name:s,isDirty:Z(s,o),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else C(n,s,o)},h=(s,o)=>{C(t.errors,s,o),b.state.next({errors:t.errors})},U=s=>{t.errors=s,b.state.next({errors:t.errors,isValid:!1})},I=(s,o,l,g)=>{const f=y(i,s);if(f){const d=y(n,s,O(l)?y(a,s):l);O(d)||g&&g.defaultChecked||o?C(n,s,o?d:ft(f._f)):k(s,d),u.mount&&R()}},S=(s,o,l,g,f)=>{let d=!1,v=!1;const A={name:s};if(!r.disabled){if(!l||g){(_.isDirty||F.isDirty)&&(v=t.isDirty,t.isDirty=A.isDirty=Z(),d=v!==A.isDirty);const w=re(y(a,s),o);v=!!y(t.dirtyFields,s),w?M(t.dirtyFields,s):C(t.dirtyFields,s,!0),A.dirtyFields=t.dirtyFields,d=d||(_.dirtyFields||F.dirtyFields)&&v!==!w}if(l){const w=y(t.touchedFields,s);w||(C(t.touchedFields,s,l),A.touchedFields=t.touchedFields,d=d||(_.touchedFields||F.touchedFields)&&w!==l)}d&&f&&b.state.next(A)}return d?A:{}},se=(s,o,l,g)=>{const f=y(t.errors,s),d=(_.isValid||F.isValid)&&G(o)&&t.isValid!==o;if(r.delayError&&l?(x=H(()=>h(s,l)),x(r.delayError)):(clearTimeout(V),x=null,l?C(t.errors,s,l):M(t.errors,s)),(l?!re(f,l):f)||!q(g)||d){const v={...g,...d&&G(o)?{isValid:o}:{},errors:t.errors,name:s};t={...t,...v},b.state.next(v)}},ie=async s=>{L(s,!0);const o=await r.resolver(n,r.context,Nr(s||c.mount,i,r.criteriaMode,r.shouldUseNativeValidation));return L(s),o},Se=async s=>{const{errors:o}=await ie(s);if(s)for(const l of s){const g=y(o,l);g?C(t.errors,l,g):M(t.errors,l)}else t.errors=o;return o},K=async(s,o,l={valid:!0})=>{for(const g in s){const f=s[g];if(f){const{_f:d,...v}=f;if(d){const A=c.array.has(d.name),w=f._f&&Mr(f._f);w&&_.validatingFields&&L([g],!0);const $=await bt(f,c.disabled,n,z,r.shouldUseNativeValidation&&!o,A);if(w&&_.validatingFields&&L([g]),$[d.name]&&(l.valid=!1,o))break;!o&&(y($,d.name)?A?jr(t.errors,$,d.name):C(t.errors,d.name,$[d.name]):M(t.errors,d.name))}!q(v)&&await K(v,o,l)}}return l.valid},ne=()=>{for(const s of c.unMount){const o=y(i,s);o&&(o._f.refs?o._f.refs.every(l=>!Ie(l)):!Ie(o._f.ref))&&ke(s)}c.unMount=new Set},Z=(s,o)=>!r.disabled&&(s&&o&&C(n,s,o),!re(xe(),a)),D=(s,o,l)=>Ut(s,c,{...u.mount?n:O(o)?a:ee(s)?{[s]:o}:o},l,o),E=s=>Ge(y(u.mount?n:a,s,r.shouldUnregister?y(a,s,[]):[])),k=(s,o,l={})=>{const g=y(i,s);let f=o;if(g){const d=g._f;d&&(!d.disabled&&C(n,s,Ht(o,d)),f=Ee(d.ref)&&j(o)?"":o,Bt(d.ref)?[...d.ref.options].forEach(v=>v.selected=f.includes(v.value)):d.refs?me(d.ref)?d.refs.forEach(v=>{(!v.defaultChecked||!v.disabled)&&(Array.isArray(f)?v.checked=!!f.find(A=>A===v.value):v.checked=f===v.value||!!f)}):d.refs.forEach(v=>v.checked=v.value===f):Je(d.ref)?d.ref.value="":(d.ref.value=f,d.ref.type||b.state.next({name:s,values:P(n)})))}(l.shouldDirty||l.shouldTouch)&&S(s,f,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&ce(s)},B=(s,o,l)=>{for(const g in o){if(!o.hasOwnProperty(g))return;const f=o[g],d=s+"."+g,v=y(i,d);(c.array.has(s)||N(f)||v&&!v._f)&&!oe(f)?B(d,f,l):k(d,f,l)}},W=(s,o,l={})=>{const g=y(i,s),f=c.array.has(s),d=P(o);C(n,s,d),f?(b.array.next({name:s,values:P(n)}),(_.isDirty||_.dirtyFields||F.isDirty||F.dirtyFields)&&l.shouldDirty&&b.state.next({name:s,dirtyFields:ye(a,n),isDirty:Z(s,d)})):g&&!g._f&&!j(d)?B(s,d,l):k(s,d,l),vt(s,c)&&b.state.next({...t,name:s}),b.state.next({name:u.mount?s:void 0,values:P(n)})},Q=async s=>{u.mount=!0;const o=s.target;let l=o.name,g=!0;const f=y(i,l),d=w=>{g=Number.isNaN(w)||oe(w)&&isNaN(w.getTime())||re(w,y(n,l,w))},v=yt(r.mode),A=yt(r.reValidateMode);if(f){let w,$;const De=o.type?ft(f._f):Pt(s),ae=s.type===Ae.BLUR||s.type===Ae.FOCUS_OUT,Qt=!Pr(f._f)&&!r.resolver&&!y(t.errors,l)&&!f._f.deps||Ur(ae,y(t.touchedFields,l),t.isSubmitted,A,v),Ne=vt(l,c,ae);C(n,l,De),ae?(!o||!o.readOnly)&&(f._f.onBlur&&f._f.onBlur(s),x&&x(0)):f._f.onChange&&f._f.onChange(s);const Me=S(l,De,ae),er=!q(Me)||Ne;if(!ae&&b.state.next({name:l,type:s.type,values:P(n)}),Qt)return(_.isValid||F.isValid)&&(r.mode==="onBlur"?ae&&R():ae||R()),er&&b.state.next({name:l,...Ne?{}:Me});if(!ae&&Ne&&b.state.next({...t}),r.resolver){const{errors:nt}=await ie([l]);if(d(De),g){const tr=ht(t.errors,i,l),ot=ht(nt,i,tr.name||l);w=ot.error,l=ot.name,$=q(nt)}}else L([l],!0),w=(await bt(f,c.disabled,n,z,r.shouldUseNativeValidation))[l],L([l]),d(De),g&&(w?$=!1:(_.isValid||F.isValid)&&($=await K(i,!0)));g&&(f._f.deps&&ce(f._f.deps),se(l,$,w,Me))}},fe=(s,o)=>{if(y(t.errors,o)&&s.focus)return s.focus(),1},ce=async(s,o={})=>{let l,g;const f=he(s);if(r.resolver){const d=await Se(O(s)?s:f);l=q(d),g=s?!f.some(v=>y(d,v)):l}else s?(g=(await Promise.all(f.map(async d=>{const v=y(i,d);return await K(v&&v._f?{[d]:v}:v)}))).every(Boolean),!(!g&&!t.isValid)&&R()):g=l=await K(i);return b.state.next({...!ee(s)||(_.isValid||F.isValid)&&l!==t.isValid?{}:{name:s},...r.resolver||!s?{isValid:l}:{},errors:t.errors}),o.shouldFocus&&!g&&_e(i,fe,s?f:c.mount),g},xe=s=>{const o={...u.mount?n:a};return O(s)?o:ee(s)?y(o,s):s.map(l=>y(o,l))},Ze=(s,o)=>({invalid:!!y((o||t).errors,s),isDirty:!!y((o||t).dirtyFields,s),error:y((o||t).errors,s),isValidating:!!y(t.validatingFields,s),isTouched:!!y((o||t).touchedFields,s)}),$t=s=>{s&&he(s).forEach(o=>M(t.errors,o)),b.state.next({errors:s?t.errors:{}})},Qe=(s,o,l)=>{const g=(y(i,s,{_f:{}})._f||{}).ref,f=y(t.errors,s)||{},{ref:d,message:v,type:A,...w}=f;C(t.errors,s,{...w,...o,ref:g}),b.state.next({name:s,errors:t.errors,isValid:!1}),l&&l.shouldFocus&&g&&g.focus&&g.focus()},zt=(s,o)=>J(s)?b.state.subscribe({next:l=>"values"in l&&s(D(void 0,o),l)}):D(s,o,!0),et=s=>b.state.subscribe({next:o=>{Lr(s.name,o.name,s.exact)&&Ir(o,s.formState||_,Zt,s.reRenderRoot)&&s.callback({values:{...n},...t,...o,defaultValues:a})}}).unsubscribe,Kt=s=>(u.mount=!0,F={...F,...s.formState},et({...s,formState:F})),ke=(s,o={})=>{for(const l of s?he(s):c.mount)c.mount.delete(l),c.array.delete(l),o.keepValue||(M(i,l),M(n,l)),!o.keepError&&M(t.errors,l),!o.keepDirty&&M(t.dirtyFields,l),!o.keepTouched&&M(t.touchedFields,l),!o.keepIsValidating&&M(t.validatingFields,l),!r.shouldUnregister&&!o.keepDefaultValue&&M(a,l);b.state.next({values:P(n)}),b.state.next({...t,...o.keepDirty?{isDirty:Z()}:{}}),!o.keepIsValid&&R()},tt=({disabled:s,name:o})=>{(G(s)&&u.mount||s||c.disabled.has(o))&&(s?c.disabled.add(o):c.disabled.delete(o))},Oe=(s,o={})=>{let l=y(i,s);const g=G(o.disabled)||G(r.disabled);return C(i,s,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:s}},name:s,mount:!0,...o}}),c.mount.add(s),l?tt({disabled:G(o.disabled)?o.disabled:r.disabled,name:s}):I(s,!0,o.value),{...g?{disabled:o.disabled||r.disabled}:{},...r.progressive?{required:!!o.required,min:ge(o.min),max:ge(o.max),minLength:ge(o.minLength),maxLength:ge(o.maxLength),pattern:ge(o.pattern)}:{},name:s,onChange:Q,onBlur:Q,ref:f=>{if(f){Oe(s,o),l=y(i,s);const d=O(f.value)&&f.querySelectorAll&&f.querySelectorAll("input,select,textarea")[0]||f,v=kr(d),A=l._f.refs||[];if(v?A.find(w=>w===d):d===l._f.ref)return;C(i,s,{_f:{...l._f,...v?{refs:[...A.filter(Ie),d,...Array.isArray(y(a,s))?[{}]:[]],ref:{type:d.type,name:s}}:{ref:d}}}),I(s,!1,void 0,d)}else l=y(i,s,{}),l._f&&(l._f.mount=!1),(r.shouldUnregister||o.shouldUnregister)&&!(It(c.array,s)&&u.action)&&c.unMount.add(s)}}},Te=()=>r.shouldFocusError&&_e(i,fe,c.mount),Yt=s=>{G(s)&&(b.state.next({disabled:s}),_e(i,(o,l)=>{const g=y(i,l);g&&(o.disabled=g._f.disabled||s,Array.isArray(g._f.refs)&&g._f.refs.forEach(f=>{f.disabled=g._f.disabled||s}))},0,!1))},rt=(s,o)=>async l=>{let g;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let f=P(n);if(b.state.next({isSubmitting:!0}),r.resolver){const{errors:d,values:v}=await ie();t.errors=d,f=P(v)}else await K(i);if(c.disabled.size)for(const d of c.disabled)M(f,d);if(M(t.errors,"root"),q(t.errors)){b.state.next({errors:{}});try{await s(f,l)}catch(d){g=d}}else o&&await o({...t.errors},l),Te(),setTimeout(Te);if(b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:q(t.errors)&&!g,submitCount:t.submitCount+1,errors:t.errors}),g)throw g},Jt=(s,o={})=>{y(i,s)&&(O(o.defaultValue)?W(s,P(y(a,s))):(W(s,o.defaultValue),C(a,s,P(o.defaultValue))),o.keepTouched||M(t.touchedFields,s),o.keepDirty||(M(t.dirtyFields,s),t.isDirty=o.defaultValue?Z(s,P(y(a,s))):Z()),o.keepError||(M(t.errors,s),_.isValid&&R()),b.state.next({...t}))},st=(s,o={})=>{const l=s?P(s):a,g=P(l),f=q(s),d=f?a:g;if(o.keepDefaultValues||(a=l),!o.keepValues){if(o.keepDirtyValues){const v=new Set([...c.mount,...Object.keys(ye(a,n))]);for(const A of Array.from(v))y(t.dirtyFields,A)?C(d,A,y(n,A)):W(A,y(d,A))}else{if(He&&O(s))for(const v of c.mount){const A=y(i,v);if(A&&A._f){const w=Array.isArray(A._f.refs)?A._f.refs[0]:A._f.ref;if(Ee(w)){const $=w.closest("form");if($){$.reset();break}}}}if(o.keepFieldsRef)for(const v of c.mount)W(v,y(d,v));else i={}}n=r.shouldUnregister?o.keepDefaultValues?P(a):{}:P(d),b.array.next({values:{...d}}),b.state.next({values:{...d}})}c={mount:o.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!_.isValid||!!o.keepIsValid||!!o.keepDirtyValues,u.watch=!!r.shouldUnregister,b.state.next({submitCount:o.keepSubmitCount?t.submitCount:0,isDirty:f?!1:o.keepDirty?t.isDirty:!!(o.keepDefaultValues&&!re(s,a)),isSubmitted:o.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:f?{}:o.keepDirtyValues?o.keepDefaultValues&&n?ye(a,n):t.dirtyFields:o.keepDefaultValues&&s?ye(a,s):o.keepDirty?t.dirtyFields:{},touchedFields:o.keepTouched?t.touchedFields:{},errors:o.keepErrors?t.errors:{},isSubmitSuccessful:o.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},it=(s,o)=>st(J(s)?s(n):s,o),Xt=(s,o={})=>{const l=y(i,s),g=l&&l._f;if(g){const f=g.refs?g.refs[0]:g.ref;f.focus&&(f.focus(),o.shouldSelect&&J(f.select)&&f.select())}},Zt=s=>{t={...t,...s}},at={control:{register:Oe,unregister:ke,getFieldState:Ze,handleSubmit:rt,setError:Qe,_subscribe:et,_runSchema:ie,_focusError:Te,_getWatch:D,_getDirty:Z,_setValid:R,_setFieldArray:ue,_setDisabledField:tt,_setErrors:U,_getFieldArray:E,_reset:st,_resetDefaultValues:()=>J(r.defaultValues)&&r.defaultValues().then(s=>{it(s,r.resetOptions),b.state.next({isLoading:!1})}),_removeUnmounted:ne,_disableForm:Yt,_subjects:b,_proxyFormState:_,get _fields(){return i},get _formValues(){return n},get _state(){return u},set _state(s){u=s},get _defaultValues(){return a},get _names(){return c},set _names(s){c=s},get _formState(){return t},get _options(){return r},set _options(s){r={...r,...s}}},subscribe:Kt,trigger:ce,register:Oe,handleSubmit:rt,watch:zt,setValue:W,getValues:xe,reset:it,resetField:Jt,clearErrors:$t,unregister:ke,setError:Qe,setFocus:Xt,getFieldState:Ze};return{...at,formControl:at}}function ns(e={}){const r=m.useRef(void 0),t=m.useRef(void 0),[i,a]=m.useState({isDirty:!1,isValidating:!1,isLoading:J(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:J(e.defaultValues)?void 0:e.defaultValues});if(!r.current)if(e.formControl)r.current={...e.formControl,formState:i},e.defaultValues&&!J(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:u,...c}=qr(e);r.current={...c,formState:i}}const n=r.current.control;return n._options=e,Ye(()=>{const u=n._subscribe({formState:n._proxyFormState,callback:()=>a({...n._formState}),reRenderRoot:!0});return a(c=>({...c,isReady:!0})),n._formState.isReady=!0,u},[n]),m.useEffect(()=>n._disableForm(e.disabled),[n,e.disabled]),m.useEffect(()=>{e.mode&&(n._options.mode=e.mode),e.reValidateMode&&(n._options.reValidateMode=e.reValidateMode)},[n,e.mode,e.reValidateMode]),m.useEffect(()=>{e.errors&&(n._setErrors(e.errors),n._focusError())},[n,e.errors]),m.useEffect(()=>{e.shouldUnregister&&n._subjects.state.next({values:n._getWatch()})},[n,e.shouldUnregister]),m.useEffect(()=>{if(n._proxyFormState.isDirty){const u=n._getDirty();u!==i.isDirty&&n._subjects.state.next({isDirty:u})}},[n,i.isDirty]),m.useEffect(()=>{e.values&&!re(e.values,t.current)?(n._reset(e.values,{keepFieldsRef:!0,...n._options.resetOptions}),t.current=e.values,a(u=>({...u}))):n._resetDefaultValues()},[n,e.values]),m.useEffect(()=>{n._state.mount||(n._setValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),r.current.formState=Lt(i,n),r.current}export{Qr as C,ts as D,is as F,Zr as O,Xr as P,Jr as R,es as T,zr as X,rs as a,ss as b,$r as c,Sr as d,as as e,Ke as f,y as g,Cr as h,C as s,ns as u};
